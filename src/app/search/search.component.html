<div class="container-fluid">
  <h1>Search Blog Posts</h1>

  <div class="form-group row">
    <label for="topic" class="ml-2">Topic Search: </label>
    <select [(ngModel)]="topic" name="topic" id="topic" class="ml-2 mr-2">
      <option [ngValue]="''">Select One</option>
      <option *ngFor="let topic of topicList" [ngValue]="topic">{{topic}}</option>
    </select>
    <label for="title" class="ml-2">Name of Post: </label>
    <input [(ngModel)]="title" name="title" type="text" class="ml-2 mr-2" id="title" aria-describedby="title" placeholder="Post title">
    <label for="title" class="ml-2">Blogger: </label>
    <input [(ngModel)]="username" name="username" type="text" class="ml-2" id="username" aria-describedby="title" placeholder="User">
    <button class="btn btn-primary ml-4"(click)="executeSearch()">Search</button>
  </div>

  <table class="table table-bordered table-striped" *ngIf="posts.length > 0; else noResults">
    <tr>
      <th>
        Title
      </th>
      <th>
        Written By
      </th>
      <th>
        Topic
      </th>
      <th>
        Published On
      </th>
    </tr>
    <tr *ngFor="let post of posts">
      <td>
        <a routerLink="/viewPost/{{post._id}}">{{post.postTitle}}</a>
      </td>
      <td>
        {{post.username}}
      </td>
      <td>
        {{post.topic}}
      </td>
      <td>
        {{post.datePublished | date: 'medium'}}
      </td>
    </tr>
  </table>
  <ng-template #noResults>
    No results found.
  </ng-template>
</div>
